---
name: continue-here-template
id: tpl-continue-here
parent: templates
description: "Template for session continuation checkpoint files"
type: template
version: 0.1.0
output_pattern: ".continue-here.md"
---

# Continue-Here Template

Generates `.continue-here.md` files that serve as human-readable checkpoints for session resumption.

## Purpose

When a session ends (timeout, user leaves, compaction), create a `.continue-here.md` file that:
1. Captures current state in human-readable form
2. Provides context for next session
3. Lists incomplete work
4. Suggests next actions

## File Location

```yaml
locations:
  project_root: ".continue-here.md"
  phase_specific: ".planning/phases/{N}/.continue-here.md"
  
selection:
  - If mid-phase: create in phase directory
  - If between phases: create in project root
  - Always overwrite previous (only one active)
```

## Document Structure

```markdown
# ðŸ”„ Continue Here

*Last updated: {timestamp}*
*Session: {session_id or 'unknown'}*

## Current State

**Project:** {project_name}
**Phase:** {N} of {total} - {phase_name}
**Status:** {phaseStatus}

## Context Summary

{Brief description of what was being worked on}

## Preserved Context (Critical)

> These items MUST be carried into the next session:

- **[Decision]** {Critical decision made}
- **[Constraint]** {Important constraint to remember}
- **[Warning]** {Something to be careful about}

## In Progress

### Current Task: {task_id} - {task_title}

**What was happening:**
{Description of current work}

**Files being modified:**
- `{path/to/file}` - {what was being done}

**Blockers (if any):**
- {Blocker description}

## Incomplete Work

- [ ] {task_id}: {task_title} - {status: in_progress|blocked}
- [ ] {task_id}: {task_title} - {status}

## Next Actions

1. **Immediate:** {What to do first when resuming}
2. **Then:** {Following action}
3. **Goal:** {What would constitute completion}

## Commands to Run

```bash
# Resume work
/idumb:status  # Check current state

# If continuing current phase:
/idumb:execute-phase {N}

# If starting next phase:
/idumb:discuss-phase {N+1}
```

## Related Files

- `.idumb/brain/state.json` - Full state
- `.planning/phases/{N}/` - Phase artifacts
- `.idumb/brain/execution/{N}/progress.json` - Execution progress

---
*Generated by iDumb on session pause/end*
*Run `/idumb:resume` to continue*
```

## Generation Triggers

```yaml
triggers:
  session_timeout:
    after: "5 minutes idle"
    action: "Create continue-here.md"
    
  user_command:
    command: "/idumb:pause"
    action: "Create continue-here.md"
    
  compaction_detected:
    trigger: "Context compression imminent"
    action: "Create continue-here.md with anchors"
    
  error_recovery:
    trigger: "Unrecoverable error"
    action: "Create continue-here.md with error context"
```

## Content Sources

```yaml
content_sources:
  current_state:
    from: ".idumb/brain/state.json"
    extract: [phase, phaseStatus, currentMilestone]
    
  context_summary:
    from: "Recent conversation context"
    method: "Summarize last 5 turns"
    
  preserved_context:
    from: ".idumb/brain/state.json â†’ anchors"
    filter: "priority in ['critical', 'high']"
    
  in_progress:
    from: ".idumb/brain/execution/{N}/progress.json"
    filter: "status = 'in_progress'"
    
  incomplete_work:
    from: ".idumb/brain/execution/{N}/progress.json"
    filter: "status != 'completed'"
```

## Resume Protocol

```yaml
resume_protocol:
  on_session_start:
    1. "Check for .continue-here.md"
    2. "If found, offer to resume"
    3. "Load context into session"
    4. "Delete or archive the file"
    5. "Continue from recorded state"
    
  integration:
    workflow: "workflows/resume-project.md"
    command: "/idumb:resume"
```

---
*Template: continue-here v0.1.0*
