---
name: context-template
description: "Template for phase context documents (CONTEXT.md)"
type: template
version: 0.1.0
output_pattern: ".planning/phases/{N}/{phase-name}-CONTEXT.md"
---

# Context Template

Generates the CONTEXT.md document that captures discussion outcomes for a phase.

## Frontmatter Schema

```yaml
---
type: context
phase: "{phase_number}"
phase_name: "{phase_name}"
status: "draft|reviewed|approved"
created: "{iso_timestamp}"
updated: "{iso_timestamp}"
discussed_with: "user"
discussion_date: "{date}"
---
```

## Document Structure

```markdown
# Phase {N}: {Phase Name} - Context

## Goal

{Primary objective of this phase - what success looks like}

## Scope

### In Scope
- {Item 1}
- {Item 2}

### Out of Scope
- {Item 1}
- {Item 2}

## Constraints

### Technical
- {Technical constraint 1}
- {Technical constraint 2}

### Time/Resource
- {Deadline or budget constraint}

### Dependencies
- {External dependency}
- {Internal dependency on other phase}

## Approach

### Strategy
{High-level approach to achieve the goal}

### Key Decisions
1. {Decision 1}: {Rationale}
2. {Decision 2}: {Rationale}

### Patterns to Follow
- {Existing pattern 1}
- {Existing pattern 2}

## Success Criteria

- [ ] {Criterion 1 - measurable}
- [ ] {Criterion 2 - measurable}
- [ ] {Criterion 3 - measurable}

## Risks

| Risk | Likelihood | Impact | Mitigation |
|------|------------|--------|------------|
| {Risk 1} | Low/Med/High | Low/Med/High | {Mitigation} |

## Open Questions

- [ ] {Question 1} - Owner: {who}
- [ ] {Question 2} - Owner: {who}

## References

- {Link to relevant docs}
- {Link to related code}

---
*Generated by iDumb context-template v0.1.0*
```

## Generation Rules

```yaml
generation:
  required_sections:
    - goal
    - scope
    - success_criteria
  optional_sections:
    - constraints
    - approach
    - risks
    - open_questions
  
  validation:
    goal:
      min_length: 20
      must_contain: "measurable outcome"
    success_criteria:
      min_items: 2
      must_be: "checkboxes"
```

## Usage

```yaml
triggered_by:
  - "workflows/discuss-phase.md step 5"
  - "/idumb:discuss-phase completion"
  
consumed_by:
  - "workflows/plan-phase.md step 1"
  - "idumb-planner agent"
```
